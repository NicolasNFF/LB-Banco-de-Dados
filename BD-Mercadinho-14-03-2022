Exemplo1 mudar senhar-crip

USU_DT_CRIACAO SMALLDATETIME NOT NULL
	CONSTRAINT MER_DF_USU_CRIACAO DEFAULT GETDATE(),
USU_DT_ULTIMAALLTERACAO SMALLDATETIME NULL
)
 --SHA1, MD5, SHA2_512
--SELECT HASHBYTES('SHA2_512',CONVERT(varbinary,'123MUDAR'))



EXEMPLO2

CREATE DATABASE  MERCADINHO
GO
USE MERCADINHO;
CREATE TABLE MER_USUARIO(
USU_IN_CODIGO INT NOT NULL IDENTITY
	CONSTRAINT MER_PK_USUARIO PRIMARY KEY,
USU_ST_NOME VARCHAR(100) NOT NULL,
USU_ST_LOGIN VARCHAR(50) NOT NULL
	CONSTRAINT MER_UK_USU_LOGIN UNIQUE,
USU_BI_SENHA VARBINARY(512) NOT NULL,
USU_DT_CRIACAO SMALLDATETIME NOT NULL
	CONSTRAINT MER_DF_USU_CRIACAO DEFAULT GETDATE(),
USU_DT_ULTIMAALLTERACAO SMALLDATETIME NULL
)
 --SHA1, MD5, SHA2_512
--SELECT HASHBYTES('SHA2_512',CONVERT(varbinary,'123MUDAR'))
GO
CREATE OR ALTER PROCEDURE SP_I_MER_USUARIO(
@nome VARCHAR(100),@login VARCHAR(50),@senha VARCHAR(100)
) AS
SET NOCOUNT ON
DECLARE @NR_LOGIN INT
SELECT @NR_LOGIN = COUNT(*) FROM MER_USUARIO
							WHERE USU_ST_LOGIN = @login
IF @NR_LOGIN > 0
BEGIN
	RAISERROR('O login informado ja existe!',15,1)
	RETURN
END

IF LEN(TRIM(@nome))=0 OR LEN(TRIM(@login))=0 OR LEN(TRIM(@senha))=0
BEGIN
	RAISERROR('É obrigatorio informa o nome, login e senha!',15,1)
	RETURN
END
--iNSERINDO USANDO A FUNÇÃO DE CRIPTOGRAFIA
INSERT INTO MER_USUARIO (USU_ST_NOME, USU_ST_LOGIN, USU_BI_SENHA)
VALUES(@nome,@login,
HASHBYTES('SHA2_512', CONVERT(VARBINARY,@senha)))
RETURN

SP_I_MER_USUARIO 'Maria Lima','mlima','secreta123';
SELECT *FROM MER_USUARIO;


EXEMPLO 3

--iNSERINDO USANDO A FUNÇÃO DE CRIPTOGRAFIA
INSERT INTO MER_USUARIO (USU_ST_NOME, USU_ST_LOGIN, USU_BI_SENHA)
VALUES(@nome,@login,
HASHBYTES('SHA2_512', CONVERT(VARBINARY,@senha)))
RETURN

SP_I_MER_USUARIO 'Maria Lima','mlima','secreta123';
SELECT *FROM MER_USUARIO;

EXEMPLO 4
